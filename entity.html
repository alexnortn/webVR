Alex Norton
2016
-


Entity

An entity is represented by the <a-entity> element. As defined in the entity-component system pattern, entities are placeholder objects to which we plug in components in order to provide them appearance, behavior, and functionality.

In A-Frame, entities are inherently attached with the position, rotation, and scale components.


Example

Consider the entity below. By itselt, it has no appearance, behavior, or functionality. It does notthing:

	<a-entity>

We can attach components to it to make it render something or do something. To give it shape an appearance, we can attach the geometry and material components.

	<a-entity geometry="primitive: box" material="color: red"></a-entity>

Or to make it emit light, we can further attach the light component
	
	<a-entity geometry="primitive: box"
			  material="color: red"
			  light="type: point; intensity: 2.0">
	</a-entity>


Retrieving an Entity

We can simple retrieve and entity using DOM APIs.

	<a-entity id="mario"></a-entity>

	<script type="text/javascript">
		var el = document.querySelector('#mario');
	</script>

Once we have an entity, we have access to all of its properties and methods, which are detailed below.


Properties

Components

<a-entity>.components is an object of components attached to the entity. This gives us access to all of the entity's components including their data, methods, and API.

For example, if we wanted to grab an entity's three.js camera object or material object, we could reach into its components:

	<script type="text/javascript">
		
		var camera = document.querySelector('a-entity[camera]').components.camera.camera;
		var material = document.querySelector('a-entity[material]').components.material.material;

	</script>

Or if a component exposes and API, we can call its methods:

	<script type="text/javascript">
		document.querySelector('a-entity[sound]').components.sound.pause();
	</script>


Methods

addState will push state onto an entity. This will emit the stateadded event, and the state can then be checked for existence using .is:

	<script type="text/javascript">
		entity.addEventListener('stateadded', function (evt) {
		  if (evt.state === 'selected') {
		    console.log('Entity now selected!');
		  }
		});
		entity.addState('selected');
		entity.is('selected');  // >> true
	</script>

	---
	getAttribute(attr)
	setAttribute(attr)
	removeState(statename)

